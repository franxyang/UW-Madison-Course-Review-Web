# WiscFlow æ ¡å›­çº§è¯¾ç¨‹è¯„ä»·å¹³å° - å®Œæ•´è®¾è®¡æ–¹æ¡ˆ

> ç›®æ ‡ï¼šæ‰“é€  UW Madison å­¦ç”Ÿå®é™…ä½¿ç”¨çš„è¯¾ç¨‹è¯„ä»·å¹³å°
> å¼€å‘å‘¨æœŸï¼šé•¿æœŸè¿­ä»£

---

## ä¸€ã€äº§å“å®šä½ä¸ç«å“åˆ†æ

### 1.1 ç›®æ ‡ç”¨æˆ·
- **ä¸»è¦ç”¨æˆ·**ï¼šUW Madison åœ¨æ ¡æœ¬ç§‘ç”Ÿã€ç ”ç©¶ç”Ÿ
- **æ¬¡è¦ç”¨æˆ·**ï¼šæ–°ç”Ÿã€è½¬å­¦ç”Ÿã€å­¦æœ¯é¡¾é—®

### 1.2 æ ¸å¿ƒä»·å€¼ä¸»å¼ 
| åŠŸèƒ½ | Rate My Professor | UST Space | **WiscFlow** |
|------|------------------|-----------|--------------|
| è¯¾ç¨‹è¯„ä»· | âœ… ç®€å• | âœ… å¤šç»´åº¦ | âœ… å¤šç»´åº¦ + ç»“æ„åŒ– |
| æˆç»©æ•°æ® | âŒ | âŒ | âœ… **MadGrades é›†æˆ** |
| å…ˆä¿®å¯è§†åŒ– | âŒ | âŒ | âœ… **Prerequisite Graph** |
| é€‰è¯¾è§„åˆ’ | âŒ | âœ… ç®€å• | âœ… **Degree Audit é›†æˆ** |
| æ ¡å›­ä¸“å± | âŒ | âœ… HKUST | âœ… **UW Madison** |

### 1.3 å·®å¼‚åŒ–åŠŸèƒ½ï¼ˆæ ¸å¿ƒç«äº‰åŠ›ï¼‰
1. **MadGrades æ·±åº¦é›†æˆ** - å†å²æˆç»©åˆ†å¸ƒã€GPA è¶‹åŠ¿
2. **å…ˆä¿®è¯¾ç¨‹å¯è§†åŒ–** - äº¤äº’å¼è¯¾ç¨‹ä¾èµ–å›¾
3. **æ™ºèƒ½é€‰è¯¾å»ºè®®** - åŸºäºä¸“ä¸šè¦æ±‚ + ç”¨æˆ·å†å²
4. **Schedule Builder** - è¯¾è¡¨ç”Ÿæˆ + æ—¶é—´å†²çªæ£€æµ‹

---

## äºŒã€ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æŠ€æœ¯æ ˆé€‰å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend                           â”‚
â”‚  Next.js 14 (App Router) + TypeScript + Tailwind       â”‚
â”‚  React Query + Zustand + React Hook Form               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend                            â”‚
â”‚  Next.js API Routes + tRPC (ç±»å‹å®‰å…¨ API)               â”‚
â”‚  Prisma ORM + PostgreSQL                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Infrastructure                        â”‚
â”‚  Vercel (Hosting) + Supabase/Neon (DB)                 â”‚
â”‚  Upstash Redis (ç¼“å­˜) + Cloudflare R2 (æ–‡ä»¶å­˜å‚¨)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä¸ºä»€ä¹ˆé€‰æ‹© tRPCï¼Ÿ
- **ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨**ï¼šå‰ç«¯è‡ªåŠ¨è·å¾—åç«¯ API çš„ç±»å‹
- **æ›´å¥½çš„ DX**ï¼šè‡ªåŠ¨è¡¥å…¨ã€é‡æ„å®‰å…¨
- **æ€§èƒ½**ï¼šæ¯” REST æ›´å°çš„ bundle size

```typescript
// ç¤ºä¾‹ï¼šç±»å‹å®‰å…¨çš„ API è°ƒç”¨
const { data: courses } = trpc.courses.search.useQuery({
  query: "CS 577",
  filters: { level: "500" }
});
// courses è‡ªåŠ¨æ¨æ–­ç±»å‹ä¸º Course[]
```

### 2.3 é¡¹ç›®ç»“æ„ï¼ˆMonorepo æ¨èï¼‰

```
wiscflow/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ web/                    # Next.js ä¸»åº”ç”¨
â”‚       â”œâ”€â”€ app/
â”‚       â”‚   â”œâ”€â”€ (public)/       # å…¬å¼€é¡µé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx    # é¦–é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ courses/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ [code]/
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚       â”‚   â”‚   â””â”€â”€ search/
â”‚       â”‚   â”œâ”€â”€ (auth)/         # éœ€ç™»å½•é¡µé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ profile/
â”‚       â”‚   â”‚   â”œâ”€â”€ reviews/
â”‚       â”‚   â”‚   â””â”€â”€ planner/    # é€‰è¯¾è§„åˆ’å™¨
â”‚       â”‚   â”œâ”€â”€ api/
â”‚       â”‚   â”‚   â””â”€â”€ trpc/
â”‚       â”‚   â””â”€â”€ layout.tsx
â”‚       â””â”€â”€ components/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ db/                     # Prisma schema + client
â”‚   â”œâ”€â”€ api/                    # tRPC routers
â”‚   â”œâ”€â”€ ui/                     # å…±äº« UI ç»„ä»¶
â”‚   â””â”€â”€ utils/                  # å…±äº«å·¥å…·å‡½æ•°
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ seed-courses.ts         # å¯¼å…¥è¯¾ç¨‹æ•°æ®
â”‚   â”œâ”€â”€ import-madgrades.ts     # å¯¼å…¥æˆç»©æ•°æ®
â”‚   â””â”€â”€ sync-guide.ts           # åŒæ­¥ guide.wisc.edu
â””â”€â”€ turbo.json                  # Turborepo é…ç½®
```

---

## ä¸‰ã€æ•°æ®æ¨¡å‹ä¼˜åŒ–

### 3.1 ç°æœ‰ Schema çš„æ”¹è¿›å»ºè®®

```prisma
// 1. æ·»åŠ å…¨æ–‡æœç´¢æ”¯æŒ
model Course {
  // ... ç°æœ‰å­—æ®µ

  // æ·»åŠ æœç´¢å‘é‡ï¼ˆPostgreSQL full-text searchï¼‰
  searchVector Unsupported("tsvector")?

  @@index([searchVector], type: Gin)
}

// 2. æ·»åŠ è¯¾ç¨‹ç‰ˆæœ¬/å†å²
model CourseVersion {
  id          String   @id @default(cuid())
  courseId    String
  course      Course   @relation(fields: [courseId], references: [id])
  term        String   // "2024-Fall"
  description String   @db.Text
  credits     Int
  createdAt   DateTime @default(now())

  @@unique([courseId, term])
}

// 3. æ·»åŠ ç”¨æˆ·å­¦ä¸šä¿¡æ¯
model StudentProfile {
  id             String   @id @default(cuid())
  userId         String   @unique
  user           User     @relation(fields: [userId], references: [id])
  major          String?
  expectedGrad   String?  // "Spring 2026"
  completedCredits Int    @default(0)

  // å·²ä¿®è¯¾ç¨‹
  completedCourses CourseCompletion[]
  // è®¡åˆ’è¯¾ç¨‹
  plannedCourses   PlannedCourse[]
}

// 4. è¯„ä»·å®¡æ ¸æœºåˆ¶
model Review {
  // ... ç°æœ‰å­—æ®µ

  status      ReviewStatus @default(PENDING)
  reportCount Int          @default(0)
  verifiedAt  DateTime?    // éªŒè¯ä¸ºçœŸå®è¯„ä»·
}

enum ReviewStatus {
  PENDING    // å¾…å®¡æ ¸
  APPROVED   // å·²é€šè¿‡
  FLAGGED    // è¢«ä¸¾æŠ¥
  REMOVED    // å·²åˆ é™¤
}

// 5. æ·»åŠ ç´¢å¼•ä¼˜åŒ–æ€§èƒ½
model Review {
  // ...
  @@index([courseId, status, createdAt(sort: Desc)])
  @@index([authorId])
  @@index([instructorId])
}
```

### 3.2 æ•°æ®å¯¼å…¥ç­–ç•¥

```typescript
// scripts/data-pipeline.ts
interface DataPipeline {
  // 1. è¯¾ç¨‹æ•°æ®æ¥æº
  sources: {
    guidebook: "guide.wisc.edu",      // å®˜æ–¹è¯¾ç¨‹ç›®å½•
    madgrades: "madgrades.com",       // æˆç»©åˆ†å¸ƒ
    rmp: "ratemyprofessors.com"       // æ•™æˆè¯„åˆ†ï¼ˆå¯é€‰ï¼‰
  },

  // 2. åŒæ­¥é¢‘ç‡
  schedule: {
    courses: "æ¯å­¦æœŸå¼€å§‹å‰",
    grades: "æ¯å­¦æœŸæˆç»©å‘å¸ƒå",
    reviews: "å®æ—¶ç”¨æˆ·ç”Ÿæˆ"
  }
}
```

---

## å››ã€æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 4.1 è¯¾ç¨‹æœç´¢ç³»ç»Ÿ

#### æœç´¢æ¶æ„
```
ç”¨æˆ·è¾“å…¥ â†’ Debounce(300ms) â†’ API è¯·æ±‚
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  æœç´¢ç­–ç•¥       â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ 1. ç²¾ç¡®åŒ¹é…     â”‚  CS 577 â†’ ç›´æ¥è¿”å›
                    â”‚ 2. å‰ç¼€åŒ¹é…     â”‚  CS 5 â†’ CS 5xx è¯¾ç¨‹
                    â”‚ 3. å…¨æ–‡æœç´¢     â”‚  "algorithm" â†’ ç›¸å…³è¯¾ç¨‹
                    â”‚ 4. æ¨¡ç³ŠåŒ¹é…     â”‚  "algortihm" â†’ çº é”™
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç­›é€‰å™¨è®¾è®¡
```typescript
interface CourseFilters {
  // åŸºæœ¬ç­›é€‰
  schools?: string[];        // ["L&S", "Engineering"]
  departments?: string[];    // ["Computer Sciences", "Math"]
  levels?: string[];         // ["100", "200", "300", "400", "500+"]
  credits?: [number, number]; // [1, 4]

  // è¦æ±‚ç­›é€‰
  genEds?: string[];         // ["Comm A", "Quant A"]
  breadths?: string[];       // ["Natural Science", "Social Science"]

  // è¯„ä»·ç­›é€‰
  minRating?: number;        // æœ€ä½è¯„åˆ†
  minReviews?: number;       // æœ€å°‘è¯„ä»·æ•°

  // æˆç»©ç­›é€‰
  minAvgGPA?: number;        // æœ€ä½å¹³å‡ GPA

  // æ’åº
  sortBy?: "relevance" | "rating" | "gpa" | "reviews" | "recent";
}
```

### 4.2 è¯¾ç¨‹è¯¦æƒ…é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CS 577 - Introduction to Algorithms              3 å­¦åˆ†    â”‚
â”‚ Computer Sciences | L&S                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ [â¤ï¸ æ”¶è— 128] [ğŸ“ å†™è¯„ä»·] [ğŸ“… åŠ å…¥è¯¾è¡¨] [ğŸ”— åˆ†äº«]      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‘ è¯¾ç¨‹ä¿¡æ¯ | ğŸ“Š æˆç»©åˆ†å¸ƒ | ğŸ“ è¯„ä»· (42) | ğŸ”— å…ˆä¿®å…³ç³»     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“‘ è¯¾ç¨‹æè¿°                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Basic paradigms for the design and analysis of efficient  â”‚
â”‚  algorithms: greed, divide-and-conquer, dynamic programmingâ”‚
â”‚  ...                                                        â”‚
â”‚                                                             â”‚
â”‚  å…ˆä¿®è¦æ±‚: CS 240 or CS 252 or CS 302, and                 â”‚
â”‚           (MATH 222 or MATH 276)                           â”‚
â”‚                                                             â”‚
â”‚  å¼€è®¾å­¦æœŸ: Fall 2024, Spring 2024, Fall 2023...            â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š æˆç»©åˆ†å¸ƒï¼ˆ2019-2024ï¼Œå…± 2,847 äººï¼‰                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  å¹³å‡ GPA: 3.21    â”‚
â”‚  â”‚ A  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 32%           â”‚  ä¸­ä½æ•°: AB        â”‚
â”‚  â”‚ AB â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 28%             â”‚                    â”‚
â”‚  â”‚ B  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 16%                   â”‚  ğŸ“ˆ GPA è¶‹åŠ¿       â”‚
â”‚  â”‚ BC â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 10%                      â”‚  [è¿·ä½ æŠ˜çº¿å›¾]      â”‚
â”‚  â”‚ C  â–ˆâ–ˆâ–ˆâ–ˆ 8%                        â”‚                    â”‚
â”‚  â”‚ D  â–ˆâ–ˆ 4%                          â”‚                    â”‚
â”‚  â”‚ F  â–ˆ 2%                           â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                             â”‚
â”‚  æŒ‰å­¦æœŸæŸ¥çœ‹: [Fall 2024 â–¼] [æŒ‰æ•™æˆç­›é€‰ â–¼]                  â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ è¯¾ç¨‹è¯„ä»·                          æ’åº: [æœ€æ–° â–¼]       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ç»¼åˆè¯„åˆ†ï¼ˆåŸºäº 42 æ¡è¯„ä»·ï¼‰                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å†…å®¹è´¨é‡  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ A-  (3.7)              â”‚   â”‚
â”‚  â”‚ æ•™å­¦æ°´å¹³  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ B+  (3.3)              â”‚   â”‚
â”‚  â”‚ ç»™åˆ†éš¾åº¦  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ B   (3.0)              â”‚   â”‚
â”‚  â”‚ è¯¾ç¨‹è´Ÿæ‹…  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ B-  (2.7) [è¾ƒé‡]       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â­ "ç®—æ³•å…¥é—¨çš„æœ€ä½³é€‰æ‹©"                              â”‚   â”‚
â”‚  â”‚ Fall 2024 | Prof. Shuchi Chawla | è·å¾—: A           â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ å†…å®¹ A | æ•™å­¦ A | ç»™åˆ† B+ | è´Ÿæ‹… A-                  â”‚   â”‚
â”‚  â”‚ è€ƒæ ¸: âœ“ä½œä¸š âœ“æœŸä¸­ âœ“æœŸæœ« âœ—é¡¹ç›®                       â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ã€å†…å®¹ã€‘è¯¾ç¨‹æ¶µç›–äº† DPã€è´ªå¿ƒã€åˆ†æ²»ã€å›¾ç®—æ³•ã€          â”‚   â”‚
â”‚  â”‚ NP å®Œå…¨æ€§ç­‰æ ¸å¿ƒå†…å®¹ï¼Œéå¸¸æ‰å®...                     â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ã€æ•™å­¦ã€‘Shuchi è®²è¯¾æ¸…æ™°ï¼Œæ¿ä¹¦å¾ˆå¥½ï¼Œoffice hour      â”‚   â”‚
â”‚  â”‚ ä¹Ÿå¾ˆæœ‰å¸®åŠ©...                                        â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ‘ 23  ğŸ‘ 2  ğŸ’¬ 5 æ¡è¯„è®º                             â”‚   â”‚
â”‚  â”‚ [ä¸¾æŠ¥] [åˆ†äº«]                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  [åŠ è½½æ›´å¤šè¯„ä»·...]                                          â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”— å…ˆä¿®å…³ç³»å›¾                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚      â”‚ CS 200 â”‚â”€â”€â”€â”€â–¶â”‚ CS 252 â”‚â”€â”€â”                          â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                                 â”œâ”€â”€â”€â”€â–¶â”‚ CS 577 â”‚           â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚      â”‚MATH 221â”‚â”€â”€â”€â”€â–¶â”‚MATH 222â”‚â”€â”€â”˜          â”‚               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â–¼               â”‚
â”‚                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                                       â”‚ CS 787 â”‚           â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â”‚  [æŸ¥çœ‹å®Œæ•´ä¾èµ–å›¾]                                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 è¯„ä»·ç³»ç»Ÿ

#### è¯„ä»·è¡¨å•è®¾è®¡
```typescript
interface ReviewForm {
  // Step 1: åŸºæœ¬ä¿¡æ¯
  basic: {
    term: string;           // "Fall 2024"
    instructorId: string;   // ä¸‹æ‹‰é€‰æ‹©
    gradeReceived: Grade;   // å¯é€‰åŒ¿å
  };

  // Step 2: å››ç»´è¯„åˆ†ï¼ˆå¿…å¡«ï¼‰
  ratings: {
    content: GradeLetter;     // è¯¾ç¨‹å†…å®¹è´¨é‡
    teaching: GradeLetter;    // æ•™å­¦æ°´å¹³
    grading: GradeLetter;     // ç»™åˆ†æƒ…å†µ
    workload: GradeLetter;    // è¯¾ç¨‹è´Ÿæ‹…
  };

  // Step 3: è€ƒæ ¸æ–¹å¼ï¼ˆå¤šé€‰ï¼‰
  assessments: {
    hasHomework: boolean;
    hasMidterm: boolean;
    hasFinal: boolean;
    hasProject: boolean;
    hasPresentation: boolean;
    hasQuiz: boolean;
    hasEssay: boolean;
    hasParticipation: boolean;
  };

  // Step 4: è¯¦ç»†è¯„ä»·ï¼ˆåˆ†ç»´åº¦ï¼Œå¯é€‰ï¼‰
  comments: {
    content?: string;    // å¯¹è¯¾ç¨‹å†…å®¹çš„è¯„ä»·
    teaching?: string;   // å¯¹æ•™å­¦çš„è¯„ä»·
    grading?: string;    // å¯¹ç»™åˆ†çš„è¯„ä»·
    workload?: string;   // å¯¹å·¥ä½œé‡çš„è¯„ä»·
    tips?: string;       // ç»™åæ¥è€…çš„å»ºè®®
  };

  // Step 5: é¢å¤–ä¿¡æ¯
  extras: {
    tags?: string[];           // ["ç†è®ºæ‰å®", "ä½œä¸šå¤š", "è€ƒè¯•éš¾"]
    resourceLink?: string;     // èµ„æ–™é“¾æ¥
    wouldRecommend: boolean;   // æ˜¯å¦æ¨è
  };
}
```

#### è¯„ä»·å±•ç¤ºä¼˜åŒ–
```typescript
// è¯„ä»·æ’åºç®—æ³•ï¼ˆç±»ä¼¼ Reddit Hotï¼‰
function calculateReviewScore(review: Review): number {
  const helpfulScore = review.upvotes - review.downvotes;
  const ageInHours = (Date.now() - review.createdAt.getTime()) / 3600000;
  const lengthBonus = Math.min(review.totalLength / 500, 1); // é•¿è¯„åŠ åˆ†
  const verifiedBonus = review.isVerified ? 0.5 : 0;

  return (helpfulScore + 1) / Math.pow(ageInHours + 2, 1.5)
         + lengthBonus + verifiedBonus;
}
```

### 4.4 ç”¨æˆ·ç³»ç»Ÿ

#### ç”¨æˆ·ç­‰çº§ç³»ç»Ÿ
```typescript
const CONTRIBUTION_LEVELS = [
  { level: 1, name: "æ–°æ‰‹", minPoints: 0, badge: "ğŸŒ±" },
  { level: 2, name: "è´¡çŒ®è€…", minPoints: 50, badge: "â­" },
  { level: 3, name: "æ´»è·ƒç”¨æˆ·", minPoints: 200, badge: "ğŸŒŸ" },
  { level: 4, name: "èµ„æ·±ç”¨æˆ·", minPoints: 500, badge: "ğŸ’" },
  { level: 5, name: "æ ¸å¿ƒè´¡çŒ®è€…", minPoints: 1000, badge: "ğŸ‘‘" },
];

const POINTS = {
  WRITE_REVIEW: 20,
  REVIEW_UPVOTED: 2,
  REVIEW_DOWNVOTED: -1,
  HELPFUL_COMMENT: 5,
  REPORT_ACCEPTED: 10,
  CONSECUTIVE_DAYS: 5,  // è¿ç»­ç™»å½•
};
```

#### ç”¨æˆ·ä¸­å¿ƒåŠŸèƒ½
```
/profile
â”œâ”€â”€ /reviews      # æˆ‘çš„è¯„ä»·ï¼ˆå¯ç¼–è¾‘ï¼‰
â”œâ”€â”€ /favorites    # æ”¶è—çš„è¯¾ç¨‹
â”œâ”€â”€ /history      # å·²ä¿®è¯¾ç¨‹è®°å½•
â”œâ”€â”€ /planner      # é€‰è¯¾è§„åˆ’
â””â”€â”€ /settings     # è´¦å·è®¾ç½®
```

---

## äº”ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 5.1 æ•°æ®åº“å±‚é¢

```sql
-- 1. æ·»åŠ å¤åˆç´¢å¼•
CREATE INDEX idx_course_search ON courses
  USING GIN (to_tsvector('english', name || ' ' || code || ' ' || description));

-- 2. ç‰©åŒ–è§†å›¾ï¼ˆè¯¾ç¨‹ç»Ÿè®¡ï¼‰
CREATE MATERIALIZED VIEW course_stats AS
SELECT
  c.id,
  c.code,
  COUNT(r.id) as review_count,
  AVG(CASE r.content_rating
      WHEN 'A' THEN 4.0 WHEN 'AB' THEN 3.5 ... END) as avg_content,
  -- ... å…¶ä»–å¹³å‡åˆ†
FROM courses c
LEFT JOIN reviews r ON r.course_id = c.id AND r.status = 'APPROVED'
GROUP BY c.id;

-- å®šæ—¶åˆ·æ–°
REFRESH MATERIALIZED VIEW CONCURRENTLY course_stats;
```

### 5.2 ç¼“å­˜ç­–ç•¥

```typescript
// ä½¿ç”¨ Upstash Redis
const CACHE_TTL = {
  COURSE_LIST: 60 * 60,        // 1 å°æ—¶
  COURSE_DETAIL: 60 * 30,      // 30 åˆ†é’Ÿ
  COURSE_STATS: 60 * 60 * 6,   // 6 å°æ—¶
  SEARCH_RESULTS: 60 * 15,     // 15 åˆ†é’Ÿ
  USER_PROFILE: 60 * 5,        // 5 åˆ†é’Ÿ
};

// React Query é…ç½®
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5,  // 5 åˆ†é’Ÿå†…ä¸é‡æ–°è¯·æ±‚
      gcTime: 1000 * 60 * 30,    // 30 åˆ†é’Ÿåæ¸…ç†ç¼“å­˜
    },
  },
});
```

### 5.3 å‰ç«¯ä¼˜åŒ–

```typescript
// 1. è™šæ‹Ÿåˆ—è¡¨ï¼ˆè¯¾ç¨‹åˆ—è¡¨ï¼‰
import { useVirtualizer } from '@tanstack/react-virtual';

// 2. å›¾ç‰‡æ‡’åŠ è½½
import Image from 'next/image';
<Image loading="lazy" placeholder="blur" ... />

// 3. ä»£ç åˆ†å‰²
const GradeChart = dynamic(() => import('./GradeChart'), {
  loading: () => <ChartSkeleton />,
  ssr: false,
});

// 4. é¢„åŠ è½½å…³é”®æ•°æ®
// åœ¨é¦–é¡µé¢„åŠ è½½çƒ­é—¨è¯¾ç¨‹
<Link href="/courses/CS-577" prefetch={true}>
```

---

## å…­ã€å¼€å‘è·¯çº¿å›¾

### Phase 1: åŸºç¡€è®¾æ–½ï¼ˆ2-3 å‘¨ï¼‰
- [ ] è®¾ç½® Monorepo (Turborepo)
- [ ] é…ç½® tRPC + Prisma
- [ ] è®¾è®¡ç³»ç»Ÿ + ç»„ä»¶åº“æ­å»º
- [ ] è®¤è¯ç³»ç»Ÿå®Œå–„
- [ ] æ•°æ®å¯¼å…¥è„šæœ¬

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ï¼ˆ4-6 å‘¨ï¼‰
- [ ] è¯¾ç¨‹æœç´¢ + ç­›é€‰
- [ ] è¯¾ç¨‹è¯¦æƒ…é¡µ
- [ ] æˆç»©åˆ†å¸ƒå›¾è¡¨
- [ ] è¯„ä»·ç³»ç»Ÿï¼ˆè¯»/å†™ï¼‰
- [ ] ç”¨æˆ·ä¸­å¿ƒåŸºç¡€

### Phase 3: é«˜çº§åŠŸèƒ½ï¼ˆ4-6 å‘¨ï¼‰
- [ ] å…ˆä¿®è¯¾ç¨‹å¯è§†åŒ–
- [ ] æ™ºèƒ½æœç´¢ï¼ˆtypo toleranceï¼‰
- [ ] è¯„ä»·äº’åŠ¨ï¼ˆç‚¹èµ/è¯„è®ºï¼‰
- [ ] ç”¨æˆ·ç­‰çº§ç³»ç»Ÿ
- [ ] é‚®ä»¶é€šçŸ¥

### Phase 4: æ‰©å±•åŠŸèƒ½ï¼ˆæŒç»­ï¼‰
- [ ] é€‰è¯¾è§„åˆ’å™¨
- [ ] è¯¾è¡¨ç”Ÿæˆ
- [ ] ç§»åŠ¨ç«¯é€‚é…/PWA
- [ ] æ•°æ®åˆ†æä»ªè¡¨æ¿
- [ ] API å¼€æ”¾ï¼ˆä¾›å…¶ä»–å¼€å‘è€…ä½¿ç”¨ï¼‰

---

## ä¸ƒã€æ¨å¹¿ä¸è¿è¥

### 7.1 ç”¨æˆ·è·å–
1. **Reddit** - r/UWMadison å‘å¸–
2. **æ ¡å›­è®ºå›** - CS/Engineering ç¤¾ç¾¤
3. **Word of mouth** - åŒå­¦æ¨è
4. **SEO** - "UW Madison CS 577 review" ç­‰å…³é”®è¯

### 7.2 æ•°æ®è´¨é‡ä¿è¯
1. **å¼ºåˆ¶ wisc.edu é‚®ç®±éªŒè¯**
2. **è¯„ä»·æœ€ä½å­—æ•°è¦æ±‚**ï¼ˆ50 å­—ä»¥ä¸Šï¼‰
3. **ç¤¾åŒºä¸¾æŠ¥æœºåˆ¶**
4. **ç®¡ç†å‘˜å®¡æ ¸é˜Ÿåˆ—**

### 7.3 å¯æŒç»­æ€§
1. **å¼€æºé¡¹ç›®** - å¸å¼•è´¡çŒ®è€…
2. **æ–‡æ¡£å®Œå–„** - æ–¹ä¾¿äº¤æ¥
3. **è‡ªåŠ¨åŒ–è¿ç»´** - GitHub Actions

---
